---
title: 'Home Assistant'
icon: 'mdi:home-assistant'
path: 'hass'
cards:
  - type: 'entities'
    title: 'Home Assistant'
    icon: 'mdi:home-assistant'
    entities:
      - type: 'custom:template-entity-row'
        name: 'Areas'
        icon: 'mdi:home-search'
        state: >-
          {{ states | map(attribute='entity_id') | map('area_name') | select | unique | list | count }}
      - type: 'custom:template-entity-row'
        name: 'Automations'
        icon: 'mdi:robot'
        state: '{{ states.automation | count }}'
      - type: 'custom:template-entity-row'
        name: 'Binary Sensors'
        icon: 'mdi:checkbox-blank-circle-outline'
        state: '{{ states.binary_sensor | count }}'
      - type: 'custom:template-entity-row'
        name: 'Buttons'
        icon: 'mdi:gesture-tap-button'
        state: '{{ states.button | count }}'
      - type: 'custom:template-entity-row'
        name: 'Cameras'
        icon: 'mdi:video'
        state: '{{ states.camera | count }}'
      - type: 'custom:template-entity-row'
        name: 'HVACs'
        icon: 'mdi:thermostat'
        state: '{{ states.climate | count }}'
      - type: 'custom:template-entity-row'
        name: 'Covers'
        icon: 'mdi:window-open'
        state: '{{ states.cover | count }}'
      - type: 'custom:template-entity-row'
        name: 'Device Tracker'
        icon: 'mdi:crosshairs-gps'
        state: '{{ states.device_tracker | count }}'
      - type: 'custom:template-entity-row'
        name: 'Fans'
        icon: 'mdi:fan'
        state: '{{ states.fan | count }}'
      - type: 'custom:template-entity-row'
        name: 'Groups'
        icon: 'mdi:group'
        state: '{{ states.group | count }}'
      - type: 'custom:template-entity-row'
        name: 'Humidifiers'
        icon: 'mdi:air-humidifier'
        state: '{{ states.humidifier | count }}'
      - type: 'custom:template-entity-row'
        name: 'Lights'
        icon: 'mdi:lightbulb'
        state: '{{ states.light | count }}'
      - type: 'custom:template-entity-row'
        name: 'Locks'
        icon: 'mdi:lock'
        state: '{{ states.lock | count }}'
      - type: 'custom:template-entity-row'
        name: 'Media Players'
        icon: 'mdi:cast'
        state: '{{ states.media_player | count }}'
      - type: 'custom:template-entity-row'
        name: 'Numbers'
        icon: 'mdi:format-list-numbered'
        state: '{{ states.number | count }}'
      - type: 'custom:template-entity-row'
        name: 'Persons'
        icon: 'mdi:account'
        state: '{{ states.person | count }}'
      - type: 'custom:template-entity-row'
        name: 'Scenes'
        icon: 'mdi:palette'
        state: '{{ states.scene | count }}'
      - type: 'custom:template-entity-row'
        name: 'Scripts'
        icon: 'mdi:script-text'
        state: '{{ states.script | count }}'
      - type: 'custom:template-entity-row'
        name: 'Sensors'
        icon: 'mdi:eye'
        state: '{{ states.sensor | count }}'
      - type: 'custom:template-entity-row'
        name: 'Switches'
        icon: 'mdi:light-switch'
        state: '{{ states.switch | count }}'
      - type: 'custom:template-entity-row'
        name: 'Vacuums'
        icon: 'mdi:robot-vacuum'
        state: '{{ states.vacuum | count }}'
      - type: 'custom:template-entity-row'
        name: 'Zones'
        icon: 'mdi:home'
        state: '{{ states.zone | count }}'

  - type: 'entities'
    title: 'Sensors'
    icon: 'mdi:eye'
    entities:
      - type: 'custom:template-entity-row'
        name: 'Battery'
        icon: 'mdi:battery'
        state: '{{ states.sensor | selectattr("attributes.device_class", "eq", "battery") | list | count }}'
      - type: 'custom:template-entity-row'
        name: 'Connectivity'
        icon: 'mdi:server-network'
        state: '{{ states.binary_sensor | selectattr("attributes.device_class", "eq", "connectivity") | list | count }}'
      - type: 'custom:template-entity-row'
        name: 'Door'
        icon: 'mdi:door'
        state: '{{ states.binary_sensor | selectattr("attributes.device_class", "eq", "door") | list | count }}'
      - type: 'custom:template-entity-row'
        name: 'Humidity'
        icon: 'mdi:water-percent'
        state: '{{ states.sensor | selectattr("attributes.device_class", "eq", "humidity") | list | count }}'
      - type: 'custom:template-entity-row'
        name: 'Illuminance'
        icon: 'mdi:brightness-5'
        state: '{{ states.sensor | selectattr("attributes.device_class", "eq", "illuminance") | list | count }}'
      - type: 'custom:template-entity-row'
        name: 'Lock'
        icon: 'mdi:lock'
        state: '{{ states.binary_sensor | selectattr("attributes.device_class", "eq", "lock") | list | count }}'
      - type: 'custom:template-entity-row'
        name: 'Moisture'
        icon: 'mdi:cup-water'
        state: '{{ states.binary_sensor | selectattr("attributes.device_class", "eq", "moisture") | list | count }}'
      - type: 'custom:template-entity-row'
        name: 'Motion'
        icon: 'mdi:motion-sensor'
        state: '{{ states.binary_sensor | selectattr("attributes.device_class", "eq", "motion") | list | count }}'
      - type: 'custom:template-entity-row'
        name: 'Moving'
        icon: 'mdi:cursor-move'
        state: '{{ states.binary_sensor | selectattr("attributes.device_class", "eq", "moving") | list | count }}'
      - type: 'custom:template-entity-row'
        name: 'Occupancy'
        icon: 'mdi:home-outline'
        state: '{{ states.binary_sensor | selectattr("attributes.device_class", "eq", "occupancy") | list | count }}'
      - type: 'custom:template-entity-row'
        name: 'Opening'
        icon: 'mdi:open-in-app'
        state: '{{ states.binary_sensor | selectattr("attributes.device_class", "eq", "opening") | list | count }}'
      - type: 'custom:template-entity-row'
        name: 'Pressure'
        icon: 'mdi:gauge'
        state: '{{ states.sensor | selectattr("attributes.device_class", "eq", "pressure") | list | count }}'
      - type: 'custom:template-entity-row'
        name: 'Problem'
        icon: 'mdi:alert-circle'
        state: '{{ states.binary_sensor | selectattr("attributes.device_class", "eq", "problem") | list | count }}'
      - type: 'custom:template-entity-row'
        name: 'Temperature'
        icon: 'mdi:thermometer'
        state: '{{ states.sensor | selectattr("attributes.device_class", "eq", "temperature") | list | count }}'
      - type: 'custom:template-entity-row'
        name: 'Vibration'
        icon: 'mdi:vibrate'
        state: '{{ states.binary_sensor | selectattr("attributes.device_class", "eq", "vibration") | list | count }}'
      - type: 'custom:template-entity-row'
        name: 'Window'
        icon: 'mdi:window-open'
        state: '{{ states.binary_sensor | selectattr("attributes.device_class", "eq", "window") | list | count }}'

  - type: 'entities'
    entities:
      - entity: 'sensor.unavailable_entities'
      - type: 'attribute'
        entity: 'sensor.unavailable_entities'
        attribute: 'entities'

  - type: 'custom:auto-entities'
    card:
      type: 'entities'
      title: 'Unavailable Entities'
      icon: 'mdi:server-network-off'
      show_header_toggle: false
    filter:
      include:
        - state: 'unavailable'
      exclude:
        - group: 'group.ignored_entities'

  - type: 'custom:auto-entities'
    card:
      type: 'entities'
      title: 'Restored Entities'
      icon: 'mdi:restore-alert'
      show_header_toggle: false
    filter:
      include:
        - attributes:
            restored: true

  - type: 'custom:auto-entities'
    card:
      type: 'entities'
      title: 'Entities without Area'
      show_header_toggle: false
    filter:
      include:
        - domain: '*'
      exclude:
        - area: '*'
        - entity_id: 'binary_sensor.*_running'
        - entity_id: 'binary_sensor.*_update_available'
        - entity_id: 'binary_sensor.all_windows'
        - entity_id: 'binary_sensor.backups_stale'
        - entity_id: 'binary_sensor.external_doors'
        - entity_id: 'binary_sensor.external_occupancy'
        - entity_id: 'binary_sensor.internal_doors'
        - entity_id: 'binary_sensor.internal_occupancy'
        - entity_id: 'binary_sensor.josh_phone_*'
        - entity_id: 'binary_sensor.lily_phone_*'
        - entity_id: 'binary_sensor.netgear_lte_*'
        - entity_id: 'binary_sensor.remote_ui'
        - entity_id: 'binary_sensor.updater'
        - entity_id: 'binary_sensor.workday'
        - entity_id: 'binary_sensor.zigbee2mqtt_*'
        - entity_id: 'binary_sensor.zoom_atlassian'
        - entity_id: 'climate.aircon'
        - entity_id: 'media_player.all'
        - entity_id: 'sensor.*_cpu_percent'
        - entity_id: 'sensor.*_memory_percent'
        - entity_id: 'sensor.*_newest_version'
        - entity_id: 'sensor.*_version'
        - entity_id: 'sensor.backup_state'
        - entity_id: 'sensor.daikin_ac_inside_temperature'
        - entity_id: 'sensor.disk_use_percent'
        - entity_id: 'sensor.downstairs_*'
        - entity_id: 'sensor.firmware_updates_available'
        - entity_id: 'sensor.hacs'
        - entity_id: 'sensor.inside_*'
        - entity_id: 'sensor.josh_phone_*'
        - entity_id: 'sensor.last_boot'
        - entity_id: 'sensor.lily_phone_*'
        - entity_id: 'sensor.low_battery'
        - entity_id: 'sensor.memory_use_percent'
        - entity_id: 'sensor.mosquitto_*'
        - entity_id: 'sensor.myip'
        - entity_id: 'sensor.netgear_lte_*'
        - entity_id: 'sensor.processor_temperature'
        - entity_id: 'sensor.processor_use_percent'
        - entity_id: 'sensor.room_assistant_*'
        - entity_id: 'sensor.speedtest_*'
        - entity_id: 'sensor.unavailable_entities'
        - entity_id: 'sensor.unifi_*'
        - entity_id: 'sensor.upstairs_*'
        - entity_id: 'sensor.uptime'
        - entity_id: 'sensor.weather_extended_text'
        - entity_id: 'sensor.weather_short_text'
        - entity_id: 'sensor.zigbee2mqtt_*'
        - entity_id: 'switch.*_bluetooth_inquiries'
        - entity_id: 'switch.aircon_downstairs'
        - entity_id: 'switch.aircon_upstairs'
        - entity_id: 'switch.aircon_zone*'
        - entity_id: 'switch.josh_phone_*'
        - entity_id: 'switch.lily_phone_*'
        - domain: 'alarm_control_panel'
        - domain: 'automation'
        - domain: 'device_tracker'
        - domain: 'group'
        - domain: 'persistent_notification'
        - domain: 'person'
        - domain: 'scene'
        - domain: 'script'
        - domain: 'sun'
        - domain: 'vacuum'
        - domain: 'weather'
        - domain: 'zone'

        # Entities without a unique ID.
        - entity_id: 'sensor.bathroom_humidity_statistics'
        - entity_id: 'sensor.outside_humidity'
        - entity_id: 'sensor.outside_temperature'

  - type: 'entity'
    entity: 'binary_sensor.remote_ui'

  - type: 'entities'
    title: 'Updates'
    entities:
      - 'binary_sensor.updater'
      - 'sensor.hacs'

  - type: 'entities'
    title: 'Snapshots'
    icon: 'mdi:backup-restore'
    entities:
      - entity: 'binary_sensor.backups_stale'
        name: 'Staleness'
      - entity: 'sensor.backup_state'
        name: 'State'

  - type: 'entities'
    title: 'Add-ons'
    entities:
      - type: 'section'
        label: 'Chrony'
      - entity: 'binary_sensor.chrony_running'
        name: 'Running'
      - entity: 'sensor.chrony_cpu_percent'
        name: 'CPU'
      - entity: 'sensor.chrony_memory_percent'
        name: 'Memory'

      - type: 'section'
        label: 'ESPHome'
      - entity: 'binary_sensor.esphome_running'
        name: 'Running'
      - entity: 'sensor.esphome_cpu_percent'
        name: 'CPU'
      - entity: 'sensor.esphome_memory_percent'
        name: 'Memory'

      - type: 'section'
        label: 'Google Drive Backup'
      - entity: 'binary_sensor.google_drive_backup_running'
        name: 'Running'
      - entity: 'sensor.google_drive_backup_cpu_percent'
        name: 'CPU'
      - entity: 'sensor.google_drive_backup_memory_percent'
        name: 'Memory'

      - type: 'section'
        label: 'Mosquitto'
      - entity: 'binary_sensor.mosquitto_running'
        name: 'Running'
      - entity: 'sensor.mosquitto_cpu_percent'
        name: 'CPU'
      - entity: 'sensor.mosquitto_memory_percent'
        name: 'Memory'

      - type: 'section'
        label: 'Room Assistant'
      - entity: 'binary_sensor.room_assistant_running'
        name: 'Running'
      - entity: 'sensor.room_assistant_cpu_percent'
        name: 'CPU'
      - entity: 'sensor.room_assistant_memory_percent'
        name: 'Memory'

      - type: 'section'
        label: 'Terminal & SSH'
      - entity: 'binary_sensor.terminal_ssh_running'
        name: 'Running'
      - entity: 'sensor.terminal_ssh_cpu_percent'
        name: 'CPU'
      - entity: 'sensor.terminal_ssh_memory_percent'
        name: 'Memory'

      - type: 'section'
        label: 'Unifi Controller'
      - entity: 'binary_sensor.unifi_controller_running'
        name: 'Running'
      - entity: 'sensor.unifi_controller_cpu_percent'
        name: 'CPU'
      - entity: 'sensor.unifi_controller_memory_percent'
        name: 'Memory'

      - type: 'section'
        label: 'Zigbee2MQTT'
      - entity: 'binary_sensor.zigbee2mqtt_running'
        name: 'Running'
      - entity: 'sensor.zigbee2mqtt_cpu_percent'
        name: 'CPU'
      - entity: 'sensor.zigbee2mqtt_memory_percent'
        name: 'Memory'

  - type: 'markdown'
    content: |-
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Manufacturer</th>
            <th>Model</th>
            <th>Area</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>a</td>
            <td>b</td>
            <td>c</td>
            <td>d</td>
          </tr>

        {% for device in states | map(attribute='entity_id') | map('device_id') | unique | reject('none') %}
        <tr>
          <td>{{ device_attr(device, 'name_by_user') | default(device_attr(device, 'name'), true) }}</td>
          <td>{{ device_attr(device, 'manufacturer') }}</td>
          <td>{{ device_attr(device, 'model') }}</td>
          <td>{{ area_name(device) }}</td>
        </tr>
        {% endfor %}

        </tbody>
      </table>
    title: 'Devices'
